<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0071)http://blog.icbuy.com/blog.php?do=showone&uid=135&type=blog&itemid=1953 -->
<HTML xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>STM32 中断与嵌套NVIC 快速入门 - zerg - 亿芯工程师博客 - Powered By PHPWind.Net</TITLE>
<META http-equiv=Content-Type content="text/html; charset=utf-8">
<META content=博客,电子信息,工程师,亿芯网,ICBuy,blog name=keywords>
<META content=专业的电子技术博客！ name=description><LINK title="RSS 2.0" 
href="/rss.php?uid=135" type=application/rss+xml rel=alternate>
<SCRIPT language=JavaScript src="STM32 中断与嵌套NVIC 快速入门.files/global.js"></SCRIPT>

<SCRIPT language=JavaScript src="STM32 中断与嵌套NVIC 快速入门.files/ajax.js"></SCRIPT>

<SCRIPT language=JavaScript>
var uid = '135';
var winduid = '';
var itemid = '1953';
var ajaxurl = 'http://blog.icbuy.com/ajax.php';
var ajaxtype='user';
var ajaxcmt = false;
var ifsumreply = false;
</SCRIPT>

<STYLE type=text/css>BODY {
	FONT-SIZE: 12px; BACKGROUND: url(theme/default/images/bodybg.png) #fff repeat-x; COLOR: #333; LINE-HEIGHT: 1.5em; FONT-FAMILY: Geneva, Arial, Helvetica, sans-serif, serif
}
H1 {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
H2 {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
H3 {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
H4 {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
H5 {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
H6 {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
FORM {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
BODY {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
DD {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
DT {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
DL {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
LI {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
UL {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
TD {
	WORD-BREAK: break-all; WORD-WRAP: break-word
}
TH {
	WORD-BREAK: break-all; WORD-WRAP: break-word
}
DIV {
	WORD-BREAK: break-all; WORD-WRAP: break-word
}
IMG {
	BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BACKGROUND: #fff; BORDER-BOTTOM-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px
}
.c {
	CLEAR: both; FONT: 0px/0px Arial; OVERFLOW: hidden; HEIGHT: 1px
}
.tal {
	TEXT-ALIGN: left
}
.tl {
	TEXT-ALIGN: left
}
.tac {
	TEXT-ALIGN: center
}
.tc {
	TEXT-ALIGN: center
}
.tar {
	TEXT-ALIGN: right
}
.tr {
	TEXT-ALIGN: right
}
.fr {
	FLOAT: left; MARGIN-LEFT: 12px
}
.right {
	FLOAT: left; MARGIN-LEFT: 12px
}
.fl {
	FLOAT: left
}
.left {
	FLOAT: left
}
.b {
	FONT-WEIGHT: bold
}
.tdn {
	TEXT-DECORATION: none
}
.small {
	FONT-SIZE: 10px
}
.big {
	FONT-SIZE: 14px
}
.fsn {
	FONT-SIZE: 12px
}
.fn {
	FONT-WEIGHT: normal
}
.lh0 {
	LINE-HEIGHT: 0
}
.yellow {
	COLOR: #ffc800
}
.gray {
	COLOR: #ccc
}
.keep {
	WORD-SPACING: normal; WORD-BREAK: keep-all
}
.ip {
	BORDER-RIGHT: #d7ecf1 1px solid; PADDING-RIGHT: 2px; BORDER-TOP: #d7ecf1 1px solid; PADDING-LEFT: 2px; PADDING-BOTTOM: 2px; BORDER-LEFT: #d7ecf1 1px solid; PADDING-TOP: 2px; BORDER-BOTTOM: #d7ecf1 1px solid
}
.bt {
	FONT-SIZE: 12px; BACKGROUND: #012e53; COLOR: #ffc800
}
A {
	COLOR: #3d7db3
}
A:hover {
	BACKGROUND: #3d7db3; COLOR: #fff
}
A.noul {
	TEXT-DECORATION: none
}
A.active {
	BACKGROUND: #3d7db3; COLOR: #fff
}
A.active:hover {
	BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: #3d7db3
}
H1 {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; FONT-SIZE: 18px; PADDING-BOTTOM: 0px; COLOR: #ffc800; PADDING-TOP: 0.6em
}
H2 {
	PADDING-RIGHT: 0.6em; PADDING-LEFT: 0.6em; FONT-SIZE: 15px; PADDING-BOTTOM: 0.3em; COLOR: #3d7db3; PADDING-TOP: 0.5em
}
H3 {
	FONT-SIZE: 14px
}
H4 {
	DISPLAY: inline; FONT: 16px Georgia
}
#container {
	MARGIN: auto; WIDTH: 96%; min-width: 600px; max-width: 1000px
}
#header {
	BACKGROUND: url(theme/default/images/header.png) no-repeat right 50%; MARGIN-BOTTOM: 1em; HEIGHT: 108px
}
#title {
	MARGIN: auto; OVERFLOW: hidden; WIDTH: 98%; HEIGHT: 68px
}
#guide {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px; HEIGHT: 27px
}
#guide LI {
	DISPLAY: inline
}
#guide LI A {
	PADDING-RIGHT: 1em; DISPLAY: block; PADDING-LEFT: 1em; FLOAT: left; PADDING-BOTTOM: 0.3em; FONT: 13px/1.2em Arial; COLOR: #fff; PADDING-TOP: 0.4em; TEXT-DECORATION: none
}
#guide LI A:hover {
	BACKGROUND: #1d5a7d; TEXT-DECORATION: none
}
#guide LI.active A {
	BACKGROUND: #012e53; COLOR: #ffc800
}
#site-dsc {
	COLOR: #9dcff6
}
#toolbar {
	MARGIN-TOP: 1em
}
#main {
	WIDTH: 78.5%
}
#side {
	WIDTH: 20%
}
.box {
	BORDER-RIGHT: #d7ecf1 1px solid; BORDER-TOP: #d7ecf1 1px solid; MARGIN: 0px 0px 0.7em; OVERFLOW: hidden; BORDER-LEFT: #d7ecf1 1px solid; WIDTH: 100%; BORDER-BOTTOM: #d7ecf1 1px solid
}
.text {
	MARGIN: 0.5em 1em 1em
}
#main .text {
	MARGIN: 1em
}
#side .list {
	MARGIN: 1em 0.5em 1.5em 2.5em; COLOR: #333
}
#side .list UL {
	MARGIN: 0px 0px 1em 1em
}
#side .list UL LI {
	MARGIN: 0.5em 0px
}
#side .list LI {
	MARGIN: 0.5em 0px
}
.profile-pic {
	PADDING-RIGHT: 1px; PADDING-LEFT: 1px; PADDING-BOTTOM: 1px; MARGIN: 0px auto 1em; WIDTH: 95%; PADDING-TOP: 1px
}
.profile-pic DIV {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px auto; OVERFLOW: hidden; WIDTH: 100%; LINE-HEIGHT: 0; PADDING-TOP: 0px; TEXT-ALIGN: center
}
.profile-pic DIV IMG {
	BORDER-RIGHT: #ccc 1px solid; PADDING-RIGHT: 0px; BORDER-TOP: #ccc 1px solid; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; BORDER-LEFT: #ccc 1px solid; PADDING-TOP: 0px; BORDER-BOTTOM: #ccc 1px solid
}
.profile DD {
	MARGIN: 0.3em 0px 0px; LINE-HEIGHT: 120%
}
.calendar TABLE {
	TABLE-LAYOUT: fixed; MARGIN: 0px auto 1em; WIDTH: 98%
}
.calendar TABLE TD {
	FONT: 11px/150% Tahoma; HEIGHT: 15px; TEXT-ALIGN: center
}
.calendar TABLE TH {
	TEXT-ALIGN: center
}
.calendar TABLE TD A {
	PADDING-RIGHT: 3px; PADDING-LEFT: 3px; BACKGROUND: #3d7db3; PADDING-BOTTOM: 2px; FONT: 11px/12px Arial; COLOR: #fff; PADDING-TOP: 0px
}
.calendar TABLE TD A:hover {
	BACKGROUND: #012e53; TEXT-DECORATION: none
}
.blog-content {
	TABLE-LAYOUT: fixed; MARGIN: 2em 0px; VERTICAL-ALIGN: top; WIDTH: 100%
}
.blog-content TD {
	FONT-SIZE: 13px; OVERFLOW: hidden; LINE-HEIGHT: 1.5em
}
.blog-content TD IMG {
	BORDER-RIGHT: #d7ecf1 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: #d7ecf1 1px solid; PADDING-LEFT: 5px; PADDING-BOTTOM: 5px; BORDER-LEFT: #d7ecf1 1px solid; LINE-HEIGHT: 0; PADDING-TOP: 5px; BORDER-BOTTOM: #d7ecf1 1px solid
}
.blog-content TD A:hover IMG {
	BORDER-LEFT-COLOR: #3d7db3; BORDER-BOTTOM-COLOR: #3d7db3; BORDER-TOP-COLOR: #3d7db3; BORDER-RIGHT-COLOR: #3d7db3
}
.bb {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0.6em; MARGIN: 0px 0px 0.3em; LINE-HEIGHT: 2em; PADDING-TOP: 0px; BORDER-BOTTOM: #d7ecf1 1px solid
}
#footer {
	PADDING-RIGHT: 0.5em; BORDER-TOP: #d7ecf1 1px solid; MARGIN-TOP: 2em; PADDING-LEFT: 0.5em; PADDING-BOTTOM: 0.5em; PADDING-TOP: 0.5em
}
#footer UL {
	DISPLAY: inline; MARGIN: 0px 0px 0px 1em; LIST-STYLE-TYPE: none
}
#footer LI {
	DISPLAY: inline; MARGIN: 0px 0px 0px 1em; LIST-STYLE-TYPE: none
}
.pic-list LI {
	FLOAT: left; WIDTH: 50px; LIST-STYLE-TYPE: none; HEIGHT: 50px
}
.pic-list LI A IMG {
	PADDING-RIGHT: 2px; PADDING-LEFT: 2px; FILTER: alpha(opacity=80); PADDING-BOTTOM: 2px; WIDTH: 40px; PADDING-TOP: 2px; HEIGHT: 40px
}
.pic-list LI A:hover IMG {
	FILTER: alpha(opacity=100); MARGIN: -20px 0px 0px -20px; WIDTH: 79px; POSITION: absolute; HEIGHT: 79px
}
.front-cover {
	PADDING-RIGHT: 1em; PADDING-LEFT: 0px; PADDING-BOTTOM: 1em; PADDING-TOP: 0px
}
.fav DL {
	MARGIN-BOTTOM: 1.5em
}
.fav DT {
	MARGIN-BOTTOM: 0.5em
}
.goods-list LI {
	MARGIN: 0px 0.3em 1em; WIDTH: 80px; LINE-HEIGHT: 110%; HEIGHT: 80px; TEXT-ALIGN: center
}
.goods-list LI A:hover IMG {
	MARGIN: -20px 0px 0px -42px
}
.goods-dl {
	WIDTH: 400px; max-width: 55%
}
.goods-dl DD {
	MARGIN: 0px 1em 0px 0px; LINE-HEIGHT: 2em; BORDER-BOTTOM: #d7ecf1 1px solid
}
.frends-list LI {
	FLOAT: left; MARGIN-LEFT: 1%; OVERFLOW: hidden; WIDTH: 48%; HEIGHT: 120px
}
.frends-list LI A IMG {
	PADDING-RIGHT: 2px; PADDING-LEFT: 2px; FLOAT: left; PADDING-BOTTOM: 2px; MARGIN-RIGHT: 0.5em; PADDING-TOP: 2px
}
.comment DL {
	CLEAR: both; BORDER-RIGHT: #d7ecf1 1px solid; PADDING-RIGHT: 0.5em; BORDER-TOP: #d7ecf1 1px solid; DISPLAY: block; PADDING-LEFT: 0.5em; FLOAT: left; PADDING-BOTTOM: 0.5em; MARGIN: 0.2em 0px; BORDER-LEFT: #d7ecf1 1px solid; WIDTH: 90%; PADDING-TOP: 0.5em; BORDER-BOTTOM: #d7ecf1 1px solid
}
.comment DL:hover {
	BORDER-LEFT-COLOR: #a7bce1; BORDER-BOTTOM-COLOR: #a7bce1; BORDER-TOP-COLOR: #a7bce1; BORDER-RIGHT-COLOR: #a7bce1
}
.comment DD {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px 0.8em 0.5em 0px; LINE-HEIGHT: 120%; PADDING-TOP: 0px
}
.comment DD.comment-content {
	FLOAT: left; WIDTH: 90%
}
.post-comment {
	MARGIN: 0px 0px 1em; WIDTH: 70%
}
.post-comment DIV {
	MARGIN: 0px 0px 0.5em
}
.re-comment {
	BORDER-RIGHT: #d7ecf1 1px solid; PADDING-RIGHT: 1em; BORDER-TOP: #d7ecf1 1px solid; PADDING-LEFT: 1em; PADDING-BOTTOM: 1em; MARGIN: 1em 0px 0px; BORDER-LEFT: #d7ecf1 1px solid; PADDING-TOP: 1em; BORDER-BOTTOM: #d7ecf1 1px solid
}
.itable TD {
	PADDING-RIGHT: 0.5em; PADDING-LEFT: 0.5em; PADDING-BOTTOM: 0.3em; PADDING-TOP: 0.3em
}
.itable TH {
	PADDING-RIGHT: 0.5em; PADDING-LEFT: 0.5em; PADDING-BOTTOM: 0.3em; PADDING-TOP: 0.3em
}
.itable TD {
	VERTICAL-ALIGN: middle; BORDER-BOTTOM: #eef3ee 1px solid
}
.itable TR.tr1 TD {
	BACKGROUND: #f3f4ea
}
.itable TR.tr2 TD {
	BORDER-BOTTOM: #f3f4ea 1px solid
}
.itable .ip {
	BORDER-LEFT-COLOR: #ced4be; BORDER-BOTTOM-COLOR: #ced4be; BORDER-TOP-COLOR: #ced4be; BORDER-RIGHT-COLOR: #ced4be
}
.itable TD IMG {
	BORDER-TOP-WIDTH: 0px; PADDING-RIGHT: 0px; PADDING-LEFT: 0px; BORDER-LEFT-WIDTH: 0px; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; BORDER-RIGHT-WIDTH: 0px
}
.pages {
	CLEAR: both; MARGIN-TOP: 10px; MARGIN-BOTTOM: 10px; TEXT-ALIGN: center
}
.pages  {
	VERTICAL-ALIGN: middle
}
.pages A {
	BORDER-RIGHT: #add2e1 1px solid; PADDING-RIGHT: 4px; BORDER-TOP: #add2e1 1px solid; PADDING-LEFT: 4px; BACKGROUND: #f9fcff; PADDING-BOTTOM: 2px; MARGIN: 0px 1px; FONT: 10px Tahoma; BORDER-LEFT: #add2e1 1px solid; COLOR: #002f79; PADDING-TOP: 1px; BORDER-BOTTOM: #add2e1 1px solid; TEXT-ALIGN: center; TEXT-DECORATION: none
}
.pages A:hover {
	BORDER-RIGHT: #37a717 1px solid; BORDER-TOP: #37a717 1px solid; BACKGROUND: #edffe4; BORDER-LEFT: #37a717 1px solid; COLOR: #002f79; BORDER-BOTTOM: #37a717 1px solid; TEXT-DECORATION: none
}
.pages INPUT {
	BORDER-RIGHT: #ccc 1px solid; BORDER-TOP: #ccc 1px solid; FONT: 9px Tahoma; BORDER-LEFT: #ccc 1px solid; PADDING-TOP: 1px; BORDER-BOTTOM: #ccc 1px solid; HEIGHT: 14px; TEXT-ALIGN: center
}
.pages B {
	PADDING-RIGHT: 2px; PADDING-LEFT: 2px; PADDING-BOTTOM: 2px; MARGIN: 0px 3px; FONT: bold 10px/12px Tahoma; PADDING-TOP: 2px
}
.menu {
	BACKGROUND: #fff; POSITION: absolute
}
.menu TD {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; BACKGROUND: #fff; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
.menu LI {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; BACKGROUND: #fff; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
.menu UL {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; BACKGROUND: #fff; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
.menu LI {
	LIST-STYLE-TYPE: none
}
.menu A {
	PADDING-RIGHT: 15px; DISPLAY: block; PADDING-LEFT: 15px; BACKGROUND: #fff; PADDING-BOTTOM: 3px; PADDING-TOP: 3px
}
.menu A:hover {
	COLOR: #fff; TEXT-DECORATION: none
}
.menu UL.ul1 LI A {
	PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px
}
.listPic DL {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; FLOAT: left; PADDING-BOTTOM: 0px; MARGIN: 0.5em 0px; WIDTH: 24.5%; PADDING-TOP: 0px; TEXT-ALIGN: center
}
.listPic DT A {
	COLOR: #333
}
.listPic DD {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0.5em; MARGIN: 0px; VERTICAL-ALIGN: middle; TEXT-INDENT: 0px; PADDING-TOP: 0px; HEIGHT: 90px
}
.listPic DD IMG {
	BORDER-RIGHT: #eee 1px solid; PADDING-RIGHT: 2px; BORDER-TOP: #eee 1px solid; PADDING-LEFT: 2px; PADDING-BOTTOM: 2px; BORDER-LEFT: #eee 1px solid; WIDTH: 85px; PADDING-TOP: 2px; BORDER-BOTTOM: #eee 1px solid; HEIGHT: 85px
}
.listPic1 DL {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; FLOAT: left; PADDING-BOTTOM: 0px; MARGIN: 0.5em 0px; WIDTH: 33%; PADDING-TOP: 0px; TEXT-ALIGN: center
}
.listPic1 DT A {
	COLOR: #333
}
.listPic1 DD {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0.5em; MARGIN: 0px; VERTICAL-ALIGN: middle; TEXT-INDENT: 0px; PADDING-TOP: 0px; HEIGHT: 55px
}
.listPic1 DD IMG {
	BORDER-RIGHT: #eee 1px solid; PADDING-RIGHT: 2px; BORDER-TOP: #eee 1px solid; PADDING-LEFT: 2px; PADDING-BOTTOM: 2px; BORDER-LEFT: #eee 1px solid; WIDTH: 50px; PADDING-TOP: 2px; BORDER-BOTTOM: #eee 1px solid; HEIGHT: 50px
}
.listPic-albumn DD {
	HEIGHT: 105px
}
.listPic-albumn DD IMG {
	BORDER-TOP-WIDTH: 0px; PADDING-RIGHT: 4px; PADDING-LEFT: 4px; BORDER-LEFT-WIDTH: 0px; BACKGROUND: url(theme/default/images/albumn-bg.gif); BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 8px; WIDTH: 90px; PADDING-TOP: 4px; HEIGHT: 90px; BORDER-RIGHT-WIDTH: 0px
}
.moduleA {
	BORDER-RIGHT: #66a0cc 1px solid; BORDER-TOP: #a6cbe7 1px solid; MARGIN: 0.2em; BORDER-LEFT: #a6cbe7 1px solid; LINE-HEIGHT: 110%; BORDER-BOTTOM: #66a0cc 1px solid
}
.moduleA H3 {
	PADDING-RIGHT: 0.5em; PADDING-LEFT: 0.5em; FONT-SIZE: 12px; PADDING-BOTTOM: 0.5em; MARGIN: 0px; CURSOR: move; COLOR: #0066ff; PADDING-TOP: 0.5em; FONT-FAMILY: Tahoma
}
.tableA {
	TABLE-LAYOUT: fixed
}
.tableAtd {
	BORDER-RIGHT: #d4e8f7 1px solid; BORDER-TOP: #d4e8f7 1px solid; BORDER-LEFT: #d4e8f7 1px solid; BORDER-BOTTOM: #d4e8f7 1px solid; HEIGHT: 50px
}
.editButton {
	PADDING-LEFT: 0.5em; BACKGROUND: url($imgpath/button_edit.gif) no-repeat 0px 0.1em; FLOAT: right; FONT: 12px/120% Tahoma; COLOR: #ccc; TEXT-DECORATION: none
}
.editButton:hover {
	BACKGROUND-POSITION: 0.1em 0.2em
}
.editBox {
	PADDING-RIGHT: 0.2em; PADDING-LEFT: 0.2em; BACKGROUND: #ffffcf; PADDING-BOTTOM: 0.2em; MARGIN: 0px 0.2em 0.2em; PADDING-TOP: 0.2em
}
.editArea {
	BORDER-RIGHT: #eee 1px solid; PADDING-RIGHT: 0.2em; BORDER-TOP: #eee 1px solid; PADDING-LEFT: 0.2em; BACKGROUND: #fff; PADDING-BOTTOM: 0.2em; MARGIN: auto; BORDER-LEFT: #eee 1px solid; WIDTH: 96%; PADDING-TOP: 0.2em; BORDER-BOTTOM: #eee 1px solid
}
.menu1 {
	BORDER-RIGHT: #cccccc 1px solid; BORDER-TOP: #cccccc 1px solid; OVERFLOW-Y: auto; Z-INDEX: 1000; BACKGROUND: #ffffff; BORDER-LEFT: #cccccc 1px solid; WIDTH: 200px; BORDER-BOTTOM: #cccccc 1px solid; POSITION: absolute; HEIGHT: 255px
}
.menu1 H3 {
	PADDING-RIGHT: 7px; PADDING-LEFT: 7px; PADDING-BOTTOM: 3px; CURSOR: move; PADDING-TOP: 5px; TEXT-ALIGN: left
}
.menu1 DIV {
	PADDING-RIGHT: 10px; PADDING-LEFT: 10px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px
}
.checkon {
	BORDER-RIGHT: #0a9800 1px solid; BORDER-TOP: #0a9800 1px solid; BACKGROUND: #caffc0; BORDER-LEFT: #0a9800 1px solid; CURSOR: move; BORDER-BOTTOM: #0a9800 1px solid
}
.move {
	POSITION: absolute
}
#colorbox {
	PADDING-RIGHT: 0px; PADDING-LEFT: 3px; PADDING-BOTTOM: 0px; OVERFLOW: hidden; WIDTH: 91px; PADDING-TOP: 3px; HEIGHT: 78px
}
#colorbox DIV {
	BORDER-RIGHT: #000 1px solid; BORDER-TOP: #000 1px solid; FLOAT: left; MARGIN: 0px 3px 3px 0px; FONT: 0px/8px arial; BORDER-LEFT: #000 1px solid; WIDTH: 8px; CURSOR: pointer; BORDER-BOTTOM: #000 1px solid; HEIGHT: 8px
}
.smile {
	PADDING-RIGHT: 0px; PADDING-LEFT: 8px; BACKGROUND: url(theme/default/images/th1.png) #e0f0f9; PADDING-BOTTOM: 0px; CURSOR: move; PADDING-TOP: 7px; HEIGHT: 23px; TEXT-ALIGN: left
}
.smile DIV {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; WIDTH: 56px; CURSOR: pointer; PADDING-TOP: 5px; HEIGHT: 18px; TEXT-ALIGN: center
}
.smile DIV.lian {
	BACKGROUND: url(theme/default/images/tag.jpg) #ffffff no-repeat; CURSOR: auto
}
.user-info {
	MARGIN-TOP: -1em; MARGIN-LEFT: -1.5em; LINE-HEIGHT: 160%; POSITION: absolute
}
.user-infoWrap {
	BORDER-RIGHT: #004c7d 1px solid; PADDING-RIGHT: 1em; BORDER-TOP: #a6cbe7 1px solid; DISPLAY: block; PADDING-LEFT: 1em; BACKGROUND: #fff; PADDING-BOTTOM: 0.5em; MARGIN-LEFT: 20px; BORDER-LEFT: #a6cbe7 1px solid; PADDING-TOP: 0.5em; BORDER-BOTTOM: #004c7d 1px solid
}
.user-info .co {
	MARGIN-TOP: 2em; BACKGROUND: url(theme/default/images/user-info-co.png); MARGIN-LEFT: -1.8em; WIDTH: 10px; POSITION: absolute; HEIGHT: 20px
}
.menu_sm {
	BACKGROUND: #fffcd9; WIDTH: 100%; BORDER-BOTTOM: #e7d62b 1px solid; POSITION: absolute
}
.menu_sm A {
	PADDING-RIGHT: 15px; PADDING-LEFT: 15px; PADDING-BOTTOM: 5px; COLOR: #f79305; PADDING-TOP: 5px
}
.menu_sm A:hover {
	COLOR: #fff; TEXT-DECORATION: none
}

@media Unknown    
{
.goods-list LI A:hover IMG {
	MARGIN: -20px -20px 0px 0px
}

}
</STYLE>

<META content="MSHTML 6.00.2900.5512" name=GENERATOR></HEAD>
<BODY>
<DIV id=showmenu style="DISPLAY: none; Z-INDEX: 100"></DIV>
<DIV class=wrap1>
<DIV class=wrap2>
<DIV class=wrap3>
<DIV id=container dargarea="yes"><!--begin header-->
<DIV id=header>
<DIV id=title>
<DIV class="fr tar" id=toolbar><A class="small yellow tdu" 
href="http://blog.icbuy.com/blog.php?uid=135">http://blog.icbuy.com/blog.php?uid=135</A><BR><A 
href="http://blog.icbuy.com/">亿芯工程师博客首页</A> | &nbsp; <A 
href="http://blog.icbuy.com/blog.php?uid=135">zerg的首页</A> | &nbsp;<A 
href="http://tec.icbuy.com/user/userSignInAction/forward/aHR0cCUzQSUyRiUyRmJsb2cuaWNidXkuY29t">登陆</A> 
| <A 
href="http://tec.icbuy.com/user/userRegister/forward/aHR0cCUzQSUyRiUyRmJsb2cuaWNidXkuY29t">注册</A> 
</DIV>
<H1><A class="yellow noul" 
href="http://blog.icbuy.com/blog.php?uid=135">zerg</A> </H1>
<DIV id=site-dsc></DIV>
<DIV id=showmenu_second style="DISPLAY: none; Z-INDEX: 200"></DIV>
<DIV class=menu id=colorbox1 style="DISPLAY: none; Z-INDEX: 1000"></DIV>
<DIV class=menu id=style_edit_box style="DISPLAY: none">
<TABLE 
style="BORDER-RIGHT: #eee 1px solid; BORDER-TOP: #eee 1px solid; MARGIN: 5px; BORDER-LEFT: #eee 1px solid; WIDTH: 300px; BORDER-BOTTOM: #eee 1px solid">
  <TBODY>
  <TR>
    <TD class=h1 onmousedown=read.move(event); style="CURSOR: move" 
      colSpan=2><SPAN class=fl>
      <H3>快速编辑风格</H3></SPAN><SPAN class=fr title=close style="CURSOR: pointer" 
      onclick=closep();><IMG 
    src="STM32 中断与嵌套NVIC 快速入门.files/close.gif"></SPAN></TD></TR>
  <TR>
    <TD style="WIDTH: 20%">背景色：</TD>
    <TD><INPUT id=bgcolor_text onchange=ChangeC() size=10 name=bgcolor><A 
      id=showc style="CURSOR: pointer; POSITION: absolute" 
      onclick="ShowC('colorbox1',this.id)">显示颜色 </A></TD></TR>
  <TR>
    <TD style="WIDTH: 20%">banner图：</TD>
    <TD><INPUT id=bannerimg_text onchange=SetBanner() size=10 
    name=bannerimg></TD></TR>
  <TR>
    <TD style="WIDTH: 20%">背景图片：</TD>
    <TD><INPUT id=bgimg_text onchange=SetBgImg() size=10 name=bgimg>
      <DIV class=c></DIV>重复：<INPUT id=bgtype onclick=ChangeBgImgStyle(this.id) 
      type=checkbox value=1 name=bgtype></TD></TR>
  <TR>
    <TD><INPUT onclick=SaveStyle(); type=button value=保存 name=button> <INPUT onclick=RevertStyle(); type=button value=还原至默认 name=button> 
  </TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=c></DIV>
<UL id=guide>
  <LI><A href="http://blog.icbuy.com/blog.php?uid=135">首页</A> 
  <LI class=active><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=blog">日志</A> 

  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=photo">相册</A> 

  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=music">音乐</A> 

  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=team">技术圈</A> 

  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=gbook">留言</A> 

  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=aboutme&amp;uid=135&amp;type=aboutme">关于我</A> 
  </LI></UL></DIV>
<DIV class=c></DIV><!--end header-->
<DIV class=left id=side><!--begin calendar-->
<DIV class=box id=side_calendar>
<H2 onmousedown="Drag._move(event);return false;" style="CURSOR: move">日历</H2>
<DIV class=calendar>
<TABLE cellSpacing=2 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TH colSpan=7 height=20>2009 - 8</TH></TR>
  <TR>
    <TD>日</TD>
    <TD>一</TD>
    <TD>二</TD>
    <TD>三</TD>
    <TD>四</TD>
    <TD>五</TD>
    <TD>六</TD></TR>
  <TR>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>1</TD></TR>
  <TR>
    <TD>2</TD>
    <TD>3</TD>
    <TD>4</TD>
    <TD>5</TD>
    <TD>6</TD>
    <TD>7</TD>
    <TD>8</TD></TR>
  <TR>
    <TD>9</TD>
    <TD>10</TD>
    <TD>11</TD>
    <TD>12</TD>
    <TD>13</TD>
    <TD>14</TD>
    <TD>15</TD></TR>
  <TR>
    <TD>16</TD>
    <TD>17</TD>
    <TD>18</TD>
    <TD>19</TD>
    <TD>20</TD>
    <TD>21</TD>
    <TD>22</TD></TR>
  <TR>
    <TD>23</TD>
    <TD>24</TD>
    <TD>25</TD>
    <TD>26</TD>
    <TD>27</TD>
    <TD>28</TD>
    <TD>29</TD></TR>
  <TR>
    <TD>30</TD>
    <TD>31</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
    <TD>&nbsp;</TD>
  <TR>
    <TD colSpan=2><A 
      href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=blog&amp;y=2009&amp;m=7">«</A>月<A 
      href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=blog&amp;y=2009&amp;m=9">»</A></TD>
    <TD colSpan=3>2009 - 8</TD>
    <TD colSpan=2><A 
      href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=blog&amp;y=2008&amp;m=8">«</A>年<A 
      href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=blog&amp;y=2010&amp;m=8">»</A></TD></TR></TBODY></TABLE></DIV></DIV><!--end calendar--><!--begin dirs-->
<DIV class=box id=side_userclass>
<H2 onmousedown="Drag._move(event);return false;" style="CURSOR: move">日志分类</H2>
<UL class=list id=bloglist>
  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=blog">所有日志</A> 
  </LI></UL></DIV><!--end dirs--><!--begin archive-->
<DIV class=box id=side_archive>
<H2 onmousedown="Drag._move(event);return false;" style="CURSOR: move">存　档</H2>
<UL class=list>
  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;m=5&amp;y=2009">2009年5月</A> 

  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;m=6&amp;y=2009">2009年6月</A> 

  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;m=7&amp;y=2009">2009年7月</A> 

  <LI><A 
  href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;m=8&amp;y=2009">2009年8月</A> 
  </LI></UL></DIV><!--end archive--><!--begin search-->
<DIV class=box id=side_search>
<H2 onmousedown="Drag._move(event);return false;" style="CURSOR: move">文章搜索</H2>
<FORM action=search.php?action=dosearch&amp; method=post target=_blank><INPUT 
type=hidden value=135 name=schuid> <INPUT type=hidden value=blog name=types> 
<DIV class=text><LABEL><INPUT class=ip size=15 name=keyword> <INPUT class=bt type=submit value=" Go " name=submit> 
</LABEL></DIV></FORM></DIV><!--end search--></DIV>
<SCRIPT language=JavaScript>
var agt = navigator.userAgent.toLowerCase();
var is_ie = ((agt.indexOf("msie") != -1) && (agt.indexOf("opera") == -1));
function upleft(id){
	var obj  = GE('bloglist');
	var objs = obj.getElementsByTagName('li');
	for (var i=0;i<objs.length;i++) {
		if (objs[i].lastChild.tagName == 'UL') {
			if (objs[i].id==id) {
				if (objs[i].lastChild.style.display != 'none') {
					objs[i].lastChild.style.display = 'none';
				} else {
					objs[i].lastChild.style.display = '';
				}
			} else {
				objs[i].lastChild.style.display = 'none';
			}
		}
	}
}
function cgpic(aid){
	var obj  = GE('photo_img');
	var obja = obj.getElementsByTagName('a');
	var objimg = obja[0].getElementsByTagName('img');
	var newaid = GE(aid).src;
	if (GE(aid).src) {
		newaid = newaid.replace(/\_thumb/ig,'');
		if (objimg[0].src=='' || objimg[0].src != newaid) {
			objimg[0].src = newaid;
		}
		
		if (obja[0].href != objimg[0].src) {
			obja[0].href = objimg[0].src;
		}
	}
	return;
}
function externallinks() {
	if (!document.getElementsByTagName) {
		return;
	}
 	var obja = document.getElementsByTagName("a");
	for (var i=0; i<obja.length; i++) {
		var obj = obja[i];
		if (obj.getAttribute("href") && obj.getAttribute("rel") == "external") {
			obj.target = "_blank";
		}
	}
}
function saveMode(){
	var o = GE('side');
	var v = Array();
	var data = '';
	var boxes = o.getElementsByTagName('div');
	for(var i=0;i<boxes.length;i++){
		if(boxes[i].id.substr(0,5) == 'side_'){
			if(data == ''){
				data = 'boxes='+boxes[i].id.substr(5);
			} else{
				data += ','+boxes[i].id.substr(5);
			}
		}
	}
   var url = ajaxurl + '?action=savemode';
   send_request(url,saveModeResponse,data);
}

function saveModeResponse(){
	var msg = http_request.responseText;
	if(msg == 'success'){
		alert('布局修改成功');
		Drag.savebar = null;
		closem ();
	}else{
		alert('布局修改失败');
	}
}

function c_savemode(){
	Drag.savebar = null;
	closem ();
}
</SCRIPT>
<!--begin main-->
<DIV class=right id=main>
<DIV class=box>
<H2>日志文章</H2>
<DIV class=right><A 
href="http://blog.icbuy.com/blog.php?do=showone&amp;uid=135&amp;type=blog&amp;itemid=1953&amp;goto=previous">上一篇</A>/ 
<A 
href="http://blog.icbuy.com/blog.php?do=showone&amp;uid=135&amp;type=blog&amp;itemid=1953&amp;goto=next">下一篇</A></DIV><BR><!--begin-->
<DIV class=text>
<DIV class=gray>2008-08-28 <IMG src="STM32 中断与嵌套NVIC 快速入门.files/1.gif" 
align=absMiddle \> </DIV>
<H3><IMG 
src="C:\Documents and Settings\gy\桌面\STM32 中断与嵌套NVIC 快速入门.files\1(1).gif" 
align=absMiddle \> STM32 中断与嵌套NVIC 快速入门 </H3>
<TABLE class=blog-content>
  <TBODY>
  <TR>
    <TD>
      <P>//====================================================<SPAN 
      style="DISPLAY: none"> 97MU.H </SPAN>&nbsp;<BR>//&nbsp;STM32 中断与嵌套NVIC 
      快速入门。<SPAN style="DISPLAY: none"> 3FYgRK}5b~ 
      </SPAN>&nbsp;<BR>//&nbsp;&nbsp;&nbsp;&nbsp; netjob&nbsp; 2008-8-1<SPAN 
      style="DISPLAY: none"> KBr%,2C 
      </SPAN>&nbsp;<BR>//====================================================<SPAN 
      style="DISPLAY: none"> [Kn?[LcY </SPAN>&nbsp;<BR>我也是靠看这本书才弄懂的：<SPAN 
      style="DISPLAY: none"> ZE4wWf= </SPAN>&nbsp;<BR>Cortex-M3 权威指南<SPAN 
      style="DISPLAY: none"> qEjFG"a! </SPAN>&nbsp;<BR>Joseph Yiu 著<SPAN 
      style="DISPLAY: none"> {^aZPS </SPAN>&nbsp;<BR>宋岩 译<SPAN 
      style="DISPLAY: none"> B@w4C-a </SPAN>&nbsp;<BR>其实很简单。<SPAN 
      style="DISPLAY: none"> N'];c{?fS` </SPAN>&nbsp;<BR>//CM3 有 
      最多240个中断（通常外部中断写作IRQs），就是 软件上说的 IRQ CHANAELx(中断通道号x)<SPAN 
      style="DISPLAY: none"> X{m ty/q </SPAN>&nbsp;<BR>每个中断有自己的可编程的中断优先级【 
      有唯一对应的 中断优先级寄存器 】.<SPAN style="DISPLAY: none"> KSzV*8@ n# 
      </SPAN>&nbsp;<BR>由于CM3支持 硬件中断嵌套，所以可以有 256 级的可编程优先级<SPAN 
      style="DISPLAY: none"> D2 }9r5 </SPAN>&nbsp;<BR>和 256级中断嵌套【 
      书上称：抢占（preempt） 优先级】<SPAN style="DISPLAY: none">  .[/8m$U 
      </SPAN>&nbsp;<BR>所以大家可以设:<SPAN style="DISPLAY: none"> K]-yLS/' 
      </SPAN>&nbsp;<BR>IRQ CHANAEL 0 通道 = 2&nbsp;&nbsp;&nbsp; 中断优先级&nbsp;WWDG 
      窗口定时器中断<SPAN style="DISPLAY: none"> ?!Zv ' </SPAN>&nbsp;<BR>IRQ 
      CHANAEL 1 通道 = 0&nbsp;&nbsp;&nbsp; 中断优先级&nbsp;PVD 
      联到EXTI的电源电压检测(PVD)中断<SPAN style="DISPLAY: none"> S*mRC) 
      </SPAN>&nbsp;<BR>IRQ CHANAEL 3 通道 = 255&nbsp; 中断优先级&nbsp;RTC 
      实时时钟(RTC)全局中断<SPAN style="DISPLAY: none"> AJiOp2a# </SPAN>&nbsp;<BR>IRQ 
      CHANAEL 6 通道 = 10&nbsp;&nbsp; 中断优先级&nbsp;EXTI0 EXTI线0中断<SPAN 
      style="DISPLAY: none"> zdh m&gt;N </SPAN>&nbsp;<BR>.....<SPAN 
      style="DISPLAY: none"> YS Gm?R </SPAN>&nbsp;<BR>IRQ CHANAEL 239 通道 
      =&nbsp; (0&lt;x&lt;255)&nbsp;&nbsp; 中断优先级&nbsp;..<SPAN 
      style="DISPLAY: none"> ?A%h\AG?&amp;Z </SPAN>&nbsp;<BR><SPAN 
      style="DISPLAY: none">tw &gt;,Hdwv </SPAN>&nbsp;<BR>这个实在是太恐怖了！ 是的，其实CM3 
      并没有这样做。<SPAN style="DISPLAY: none"> ?gs&lt;pIQqu 
      </SPAN>&nbsp;<BR>实在的芯片例如STM32等就只有设计来可用才64级可编程优先级和8级中断嵌套。<SPAN 
      style="DISPLAY: none"> V#--E@u </SPAN>&nbsp;<BR>对 64级中断就是说：（ INT0 到 
      INT63）这个大家比较好理解，其它的64···239就不用了。<SPAN style="DISPLAY: none"> vb80}!JDF 
      </SPAN>&nbsp;<BR>IRQ CHANAEL 0 <SPAN style="DISPLAY: none">L%'^,. W 
      </SPAN>&nbsp;<BR>。。。<SPAN style="DISPLAY: none"> ^; 9s^ 
      </SPAN>&nbsp;<BR>IRQ CHANAEL&nbsp; 63<SPAN style="DISPLAY: none"> 
      gsMn|F2d </SPAN>&nbsp;<BR>而8级中断嵌套这又是何解呢？<SPAN style="DISPLAY: none"> 61 
      ]@H_sl </SPAN>&nbsp;<BR>是这样的，上面说 一个 【中断】对应 一个【中断优先级寄存器】，而这个寄存器是 8 位的。<SPAN 
      style="DISPLAY: none"> eUQ'OF </SPAN>&nbsp;<BR>当然就是 256级了。而现在就用了 它其中的 
      BIT7,IT6,BIT5 三位来表示，而且是MSB对齐的。<SPAN style="DISPLAY: none"> 7B| x" 
      </SPAN>&nbsp;<BR>用了3 个位来表达优先级(MSB 对齐的我们能够使用的8 
      个优先级为：0x00（最高），0x20，0x40，0x60，0x80，0xA0，0xC0 以及0xE0。)<SPAN 
      style="DISPLAY: none"> %;@%O&lt;P~&lt; 
      </SPAN>&nbsp;<BR>这样我们在【中断优先级寄存器】就不能按理论的填 0到255之间的数了，<SPAN 
      style="DISPLAY: none"> "P2?*` 
      </SPAN>&nbsp;<BR>而只能填0x00（最高），0x20，0x40，0x60，0x80，0xA0，0xC0 以及0xE0。)<SPAN 
      style="DISPLAY: none"> jrVRRTBs` </SPAN>&nbsp;<BR>所以大家可以设:<SPAN 
      style="DISPLAY: none"> hQnQt}0"}c </SPAN>&nbsp;<BR>IRQ CHANAEL 0 通道 = 
      0x20&nbsp; 中断优先级&nbsp;WWDG 窗口定时器中断<SPAN style="DISPLAY: none"> gm`ASQo4D 
      </SPAN>&nbsp;<BR>IRQ CHANAEL 1 通道 = 0x40&nbsp; 中断优先级&nbsp;PVD 
      联到EXTI的电源电压检测(PVD)中断<SPAN style="DISPLAY: none"> /#-3Tf 
      </SPAN>&nbsp;<BR>IRQ CHANAEL 3 通道 = 0x20&nbsp; 中断优先级&nbsp;RTC 
      实时时钟(RTC)全局中断<SPAN style="DISPLAY: none"> p}@_It/@ </SPAN>&nbsp;<BR>IRQ 
      CHANAEL 6 通道 = 0xA0&nbsp; 中断优先级&nbsp;EXTI0 EXTI线0中断<SPAN 
      style="DISPLAY: none"> &gt;_B/e; </SPAN>&nbsp;<BR>.....<SPAN 
      style="DISPLAY: none"> +JIE^L. </SPAN>&nbsp;<BR>IRQ CHANAEL 63 通道 
      =&nbsp; 【0x00（最高），0x20，0x40，0x60，0x80，0xA0，0xC0 以及0xE0。)】<SPAN 
      style="DISPLAY: none"> rsWvLp. </SPAN>&nbsp;<BR>大家注意到了，上面通道0和通道3 
      的优先级都是0X20, 这怎么办？<SPAN style="DISPLAY: none"> qu)_==vlx 
      </SPAN>&nbsp;<BR>// 如果优先级完全相同的多个异常同时悬起，则先响应异常编号最小的那一个。如IRQ #0会比IRQ #3 
      先得到响应<SPAN style="DISPLAY: none"> K_"[PTXf </SPAN>&nbsp;<BR>而且文中还讲了 
      【优先级分组】，这又是什么回事？<SPAN style="DISPLAY: none"> ^K Pq_KH 
      </SPAN>&nbsp;<BR>其实我回头看来，这个【优先级分组】和【抢占优先级】【亚优先级】都毫无意义的。 <SPAN 
      style="DISPLAY: none">]v2r$ B&amp; </SPAN>&nbsp;<BR>如果当时用 256级即是 
      把【中断优先级寄存器】的8位都全用上，就没这个必要了。还什么优先级分组呢！<SPAN style="DISPLAY: none"> 
      G9N}Vlj </SPAN>&nbsp;<BR>就是因为厂家现在【偷工减料】，才搞出这个明堂来的。<SPAN 
      style="DISPLAY: none"> Uhpe"ky </SPAN>&nbsp;<BR>是这样的，在 
      应用程序中断及复位控制寄存器(AIRCR) 中的 10：8 位【3位】是表示【优先级分组】<SPAN style="DISPLAY: none"> 
      ggZ(~I J) </SPAN>&nbsp;<BR>它作用主要是 
      用于对【中断优先级寄存器】『我们现在中用了BIT7,BIT6,BIT5三位』的功能的说明。<SPAN style="DISPLAY: none"> 
      w)UF Lb *) </SPAN>&nbsp;<BR>有一个表，在《Cortex-M3 权威指南》的110页， 例如我们把AIRCR的10：8 
      位设为【5】 ，<SPAN style="DISPLAY: none"> ;!_iI7b% 
      </SPAN>&nbsp;<BR>查表可得【抢占优先级】＝【7：6】，【亚优先级】＝【5：0】，<SPAN 
      style="DISPLAY: none"> cz3U,t 
      </SPAN>&nbsp;<BR>对于【中断优先级寄存器】只用了BIT7,6,5, 因此我们可以看作是 【7：6】，【5】。那4－0 
      可以不管。<SPAN style="DISPLAY: none"> &amp;ej`^+moU </SPAN>&nbsp;<BR>现在我们的 
      IRQ0=0X20, IRQ3=0X20, 也就是&nbsp; 【0 0 1 0&nbsp; 】『 
      bit7=0,bit6=0,bit5=1,bit4=0』<SPAN style="DISPLAY: none"> z0C:HrRo 
      </SPAN>&nbsp;<BR>因为大家（IRQ0/IRQ3)的 【抢占优先级】＝【7：6】都是0， 说明它们的中断相应级别是一样的。<SPAN 
      style="DISPLAY: none"> E]Q|w*8 
      </SPAN>&nbsp;<BR>再继续判断它们哪个更优先的责任就要看【5】，结果连【5】都是一样的！<SPAN 
      style="DISPLAY: none"> e4?h{SsP </SPAN>&nbsp;<BR>那就按默认：<SPAN 
      style="DISPLAY: none"> =jv!YVD-` </SPAN>&nbsp;<BR>// 
      如果优先级完全相同的多个异常同时悬起，则先响应异常编号最小的那一个。如IRQ #0会比IRQ #3 先得到响应<SPAN 
      style="DISPLAY: none"> 6@^'?'1i+ </SPAN>&nbsp;<BR>由于CM3没有 
      进中断【关全局中断相应】这事，只要是中断通道打开了，就会存在 通道间的 嵌套，即是会发生<SPAN style="DISPLAY: none"> 
      xr3/Zo/b </SPAN>&nbsp;<BR>【抢占】的情况了。<SPAN style="DISPLAY: none"> 
      o?0HX"S </SPAN>&nbsp;<BR><SPAN style="DISPLAY: none">.h0"cn 
      </SPAN>&nbsp;<BR>上面就简短的说明，如果要详细理解，可以看《Cortex-M3 权威指南》。<SPAN 
      style="DISPLAY: none"> &gt;8ub_ZT 
      </SPAN>&nbsp;<BR>有任何理解不当，请各位多多指教！<SPAN style="DISPLAY: none"> #]BPGK) 
      </SPAN>&nbsp;<BR>补充注意：<SPAN style="DISPLAY: none"> Yb'8Z mx 
      </SPAN>&nbsp;<BR>“2）抢占式优先级别相同的中断源之间没有嵌套关系；” <SPAN 
      style="DISPLAY: none">~GTH.y&lt;j </SPAN>&nbsp;<BR>所以大家可以设:<SPAN 
      style="DISPLAY: none"> N: "aoUi </SPAN>&nbsp;<BR>IRQ CHANAEL 0 通道 = 
      0x20&nbsp; 中断优先级&nbsp;&nbsp;&nbsp; WWDG 窗口定时器中断<SPAN 
      style="DISPLAY: none"> G *j(ZQ </SPAN>&nbsp;<BR>IRQ CHANAEL 1 通道 = 
      0x40&nbsp; 中断优先级&nbsp;&nbsp;&nbsp; PVD 联到EXTI的电源电压检测(PVD)中断<SPAN 
      style="DISPLAY: none"> p|"k_6,m! </SPAN>&nbsp;<BR>IRQ CHANAEL 3 通道 = 
      0x20&nbsp; 中断优先级&nbsp;&nbsp;&nbsp; RTC 实时时钟(RTC)全局中断<SPAN 
      style="DISPLAY: none"> jKe}pJ.q </SPAN>&nbsp;<BR>IRQ CHANAEL 6 通道 = 
      0xA0&nbsp; 中断优先级&nbsp;&nbsp;&nbsp; EXTI0 EXTI线0中断<SPAN 
      style="DISPLAY: none"> #r&lt;| 9Q </SPAN>&nbsp;<BR>这样 0 通道和3 
      通道就不会有嵌套情况，而是0 通道按默认比3 通道优先高些。<SPAN style="DISPLAY: none"> 
      &gt;&lt;uFh|Mc\ </SPAN>&nbsp;<BR>而0 通道与1 通道就会有嵌套情况。 <SPAN 
      style="DISPLAY: none">DW%ULH </SPAN>&nbsp;<BR>&nbsp;<SPAN 
      style="DISPLAY: none"> !Bg.,p"&amp;ni </SPAN>&nbsp;<BR>芯片复位后，默认的优先级分组 是 0， 
      就是 【7：1】表示抢占式优先级，【0】表示亚优先级，<SPAN style="DISPLAY: none"> =Jftk]VS 
      </SPAN>&nbsp;<BR>这样对于MSB对齐的 8 个优先级为：0x00（最高），0x20，0x40，0x60，0x80，0xA0，0xC0 
      以及0xE0。)<SPAN style="DISPLAY: none"> $=fz Q1 3 
      </SPAN>&nbsp;<BR>使用就很方便了，建议大家就用默认的默认的优先级分组 是 0，也就是复位后的值，哈哈！<SPAN 
      style="DISPLAY: none"> ^l&lt;}_i </SPAN>&nbsp;<BR><SPAN 
      style="DISPLAY: none">!nB}[Nf </SPAN>&nbsp;<BR>例如下面的两个按键，都使用外中断方式， 
      使用了PD.3,和PD.4两个引脚。这两个中断的优先级都是0X20，<SPAN style="DISPLAY: none"> ll|oR*{5H7 
      </SPAN>&nbsp;<BR>按默认的优先级分组，它们之间不会发生中断嵌套。<SPAN style="DISPLAY: none"> 
      AMb0Sh </SPAN>&nbsp;<BR>&nbsp;&nbsp;&nbsp; &nbsp;/* Enable the EXTI3 
      Interrupt on PD.3 */<SPAN style="DISPLAY: none"> } 4c6S?S G 
      </SPAN>&nbsp;<BR>&nbsp;STM32_Nvic_Regs-&gt;Priority[9].all=0x20;&nbsp;&nbsp; 
      // 中断的优先级是 0X20<SPAN style="DISPLAY: none">  )r9HII 
      </SPAN>&nbsp;<BR>&nbsp;STM32_Nvic_Regs-&gt;Enable[0].bit.INT9=1;&nbsp; // 
      开INT9 中断&nbsp;&nbsp; IRQ9 <SPAN style="DISPLAY: none">1mC+#C 1 
      </SPAN>&nbsp;<BR>&nbsp;&nbsp;&nbsp; &nbsp;/* Enable the EXTI4 Interrupt on 
      PD.4 */<SPAN style="DISPLAY: none"> vJ%dG7&amp;2 
      </SPAN>&nbsp;<BR>&nbsp;STM32_Nvic_Regs-&gt;Priority[10].all=0x20;&nbsp; // 
      中断的优先级是 0X20 <SPAN style="DISPLAY: none">o6Y&amp;w?a : 
      </SPAN>&nbsp;<BR>&nbsp;STM32_Nvic_Regs-&gt;Enable[0].bit.INT10=1; // 
      开INT10 中断&nbsp; IRQ10 <SPAN style="DISPLAY: none">( Z#6A*|Z 
      </SPAN>&nbsp;<BR>&nbsp;<SPAN style="DISPLAY: none"> =63MzTI_ 
      </SPAN>&nbsp;<BR></P>
      <P>
      <DIV>Tags： <A class=tags 
      href="http://blog.icbuy.com/tags.php?tagname=NVIC">NVIC</A> &nbsp; <A 
      class=tags href="http://blog.icbuy.com/tags.php?tagname=STM32">STM32</A> 
      &nbsp; <A class=tags 
      href="http://blog.icbuy.com/tags.php?tagname=%E4%B8%AD%E6%96%AD">中断</A> 
      &nbsp; <A class=tags 
      href="http://blog.icbuy.com/tags.php?tagname=%E5%B5%8C%E5%A5%97">嵌套</A> 
      &nbsp; </DIV>
      <P></P><BR></TD></TR></TBODY></TABLE>
<DIV class=bb>
<DIV>类别： <A 
href="http://blog.icbuy.com/blog.php?do=list&amp;uid=135&amp;type=blog&amp;dirid=0">无分类</A> 
| &nbsp;<A 
href="http://blog.icbuy.com/blog.php?do=showone&amp;type=blog&amp;itemid=1953#c">评论</A>(<SPAN 
id=rsum>0</SPAN>) | &nbsp;<A 
href="http://blog.icbuy.com/blog.php?do=showone&amp;type=blog&amp;itemid=1953">浏览</A>(655) 
| &nbsp;<A title=收藏 style="CURSOR: pointer" 
onclick="Addboxes('blog','collecitems','1953');">收藏</A> </DIV>
<DIV class=c></DIV></DIV>
<SCRIPT language=JavaScript>
var imgpath = 'image';
function addsmile(NewCode){
    GE('cmtcontent').value += ' [s:'+NewCode+'] ';
}
</SCRIPT>
<!--begin comment--><A name=mao></A>
<DIV class="comment bb">
<H5 id=cdisplay style="DISPLAY: none">一共有 <SPAN id=sums>0</SPAN> 条评论</H5>
<DIV id=newcomment style="DISPLAY: none"></DIV></SPAN>
<DIV class=big></DIV>
<DIV class=post-comment>
<H5>发表评论</H5>
<DIV><A>用户名：</A><INPUT class=ip id=cmtuser size=22> </DIV>
<DIV><TEXTAREA class=ip id=cmtcontent onkeydown="quickpost(event,'1953')" style="WIDTH: 95%; HEIGHT: 13em"></TEXTAREA> 
<SPAN 
style="PADDING-RIGHT: 3px; MARGIN-TOP: -1em; PADDING-LEFT: 3px; PADDING-BOTTOM: 3px; WIDTH: 200px; PADDING-TOP: 3px; POSITION: absolute; TEXT-ALIGN: right">
<FIELDSET id=smiliebox 
style="BORDER-RIGHT: #eee 1px solid; BORDER-TOP: #eee 1px solid; BORDER-LEFT: #eee 1px solid; BORDER-BOTTOM: #eee 1px solid"><LEGEND>表情</LEGEND>
<DIV id=menu_show></DIV><SPAN style="FLOAT: right; MARGIN: 3px 10px 5px"><A 
id=td_smile style="CURSOR: pointer" onclick=showDefault(); 
align="absmiddle">[更多]</A></SPAN> </FIELDSET></DIV>
<DIV class=menu id=menu_generalface style="DISPLAY: none"></DIV>
<DIV id=showmenu style="DISPLAY: none; Z-INDEX: 100"></DIV>
<DIV class=menu id=menu_smile style="DISPLAY: none"></DIV>
<SCRIPT language=JavaScript src="STM32 中断与嵌套NVIC 快速入门.files/smile.js"></SCRIPT>

<SCRIPT language=JavaScript src="STM32 中断与嵌套NVIC 快速入门.files/post.js"></SCRIPT>

<SCRIPT language=JavaScript 
src="C:\Documents and Settings\gy\桌面\STM32 中断与嵌套NVIC 快速入门.files\smile(1).js"></SCRIPT>
</SPAN>
<DIV><INPUT class=ip id=gdcode size=4> <IMG id=ck style="CURSOR: pointer" 
onclick=javascript:newgdcode(this,this.src); alt=看不清楚，换一张 
src="STM32 中断与嵌套NVIC 快速入门.files/ck.png" align=absMiddle> <INPUT id=qanswer 
type=hidden value=0 name=qanswer> <INPUT id=qkey type=hidden value=0 name=qkey> <INPUT class=bt onclick="AddComment('blog','1953');" tabIndex=5 type=button value="提 交" name=Submit valign="middle"> 
</DIV></DIV>
<DIV class=c></DIV></DIV><!--begin comment--></DIV><!--end--></DIV>
<SCRIPT language=JavaScript>
var ifsumreply=1;
</SCRIPT>
</DIV><!--end main--><BR class=c></DIV>
<SCRIPT language=JavaScript 
src="STM32 中断与嵌套NVIC 快速入门.files/article.js"></SCRIPT>

<DIV id=footer>© 2005-2008 <A href="http://www.icbuy.com/">ICBuy.com</A> 
Corporation. Email:
<SCRIPT language=javascript>
<!--
user = "blog";
site = "icbuy.net";
document.write('<a href="mailto:' + user + '@' + site + '">');
document.write(user + '@' + site + '</a>');
//-->
</SCRIPT>
 </DIV></DIV></DIV></DIV></BODY></HTML>
